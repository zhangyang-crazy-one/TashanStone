# å¾…åŠäº‹é¡¹

> æœ€åæ›´æ–°ï¼š2026-01-02
> ç‰ˆæœ¬ï¼šV1.78 æ€§èƒ½ä¸å®‰å…¨ä¼˜åŒ–
> **v1.77 å·²å®Œæˆ - Snippets ä¿®å¤ âœ…**

---

## ğŸ”§ v1.78 - æ€§èƒ½ä¼˜åŒ–ä¸å®‰å…¨åŠ å›º

> **å½“å‰è¿›åº¦**: 100% å®Œæˆ âœ…
> **éªŒè¯æ—¥æœŸ**: 2026-01-02

### âœ… å·²å®Œæˆä¼˜åŒ–

| ä»»åŠ¡ | ä½ç½® | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|
| è™šæ‹Ÿæ»šåŠ¨ | `ChatPanel.tsx` | âœ… å·²å®Œæˆ | ä½¿ç”¨ react-window + react-virtualized-auto-sizer |
| æ€§èƒ½ä¼˜åŒ– | `ChatPanel.tsx` | âœ… å·²å®Œæˆ | ä½¿ç”¨ useCallback, memo, MESSAGE_ITEM_HEIGHT å¸¸é‡ |
| å¯è®¿é—®æ€§ | `ChatPanel.tsx` | âœ… å·²å®Œæˆ | æ·»åŠ  aria-posinset, aria-setsize, role="listitem" |
| TypeScript ç¼–è¯‘ | å…¨é¡¹ç›® | âœ… å·²å®Œæˆ | 0 errors |
| æµ‹è¯•é€šè¿‡ | å…¨é¡¹ç›® | âœ… å·²å®Œæˆ | 112/112 tests passing |

### âœ… P0 å®‰å…¨ä¿®å¤ (å·²å®Œæˆ)

| é¡ºåº | ä»»åŠ¡ | ä½ç½® | å·¥æ—¶ | è¯´æ˜ |
|------|------|------|------|------|
| 1 | æ–‡ä»¶è·¯å¾„éªŒè¯ | `electron/ipc/fileHandlers.ts` | - | âœ… å·²å­˜åœ¨ validateFilePath å‡½æ•° |
| 2 | å¯†ç é‡ç½®éªŒè¯ | `electron/ipc/dbHandlers.ts` | - | âœ… å·²æ·»åŠ å½“å‰å¯†ç éªŒè¯ |

### âœ… P1 UX æ”¹è¿› (å·²å®Œæˆ)

| é¡ºåº | ä»»åŠ¡ | ä½ç½® | å·¥æ—¶ | è¯´æ˜ |
|------|------|------|------|------|
| 3 | åˆ é™¤ç¡®è®¤å¯¹è¯æ¡† | `Sidebar.tsx` | âœ… å®Œæˆ | å³é”®èœå•åˆ é™¤ä¹Ÿä½¿ç”¨ç¡®è®¤å¯¹è¯æ¡† |
| 4 | åŠ è½½çŠ¶æ€æŒ‡ç¤ºå™¨ | å¤šä¸ªç»„ä»¶ | âœ… å®Œæˆ | Toolbar (AIæ€è€ƒ) + Sidebar (OCR/RAG) |

### âœ… P2 å¯è®¿é—®æ€§å¢å¼º (å·²å®Œæˆ)

| é¡ºåº | ä»»åŠ¡ | ä½ç½® | å·¥æ—¶ | è¯´æ˜ |
|------|------|------|------|------|
| 5 | aria-label è¡¥å…… | `Toolbar.tsx` | âœ… å®Œæˆ | èœå•/æ’¤é”€/é‡åš/ç²—ä½“/æ–œä½“/åˆ†å±/èŠå¤©/è®¾ç½®/ä¸»é¢˜/ä¸‹è½½/çª—å£æ§åˆ¶ |
| 6 | é”®ç›˜å¯¼èˆªå¢å¼º | `KnowledgeGraph.tsx` | âœ… å®Œæˆ | ç®­å¤´é”®å¯¼èˆª/Enteré€‰æ‹©/Escå–æ¶ˆ/+/-ç¼©æ”¾/0é‡ç½® |

---

## âœ… v1.78 - æ€§èƒ½ä¼˜åŒ–ä¸å®‰å…¨åŠ å›º (å·²å®Œæˆ)

> **å½“å‰è¿›åº¦**: 100% å®Œæˆ âœ…
> **éªŒè¯æ—¥æœŸ**: 2026-01-02

### æ€§èƒ½ä¼˜åŒ–

| ä»»åŠ¡ | ä½ç½® | è¯´æ˜ |
|------|------|------|
| çŸ¥è¯†å›¾è°±ç´¢å¼•ç¼“å­˜ | `wikiLinkService.ts` | æ·»åŠ  FILE_CONTENT_CACHE å’Œ INDEX_CACHEï¼Œ30ç§’TTLç¼“å­˜ |
| æœç´¢å†…å®¹ç´¢å¼•ç¼“å­˜ | `searchService.ts` | æ·»åŠ  _contentIndex ç¼“å­˜ï¼Œé¿å…é‡å¤ toLowerCase() |
| é¢˜åº“æ‰¹é‡ç»Ÿè®¡ç¼“å­˜ | `questionBankService.ts` | æ·»åŠ  getAllBanksStats() æ–¹æ³•ï¼Œ10ç§’TTLæ‰¹é‡ç¼“å­˜ |

### æ€§èƒ½æå‡

| ä¼˜åŒ–é¡¹ | æ”¹è¿›å‰ | æ”¹è¿›å |
|--------|--------|--------|
| WikiLink æå– | æ¯æ¬¡éƒ½è§£æ content | ç¼“å­˜ 30 ç§’ |
| å†…å®¹æœç´¢ | æ¯æ¬¡éƒ½ toLowerCase() | é¢„ç¼“å­˜å°å†™å†…å®¹ |
| é¢˜åº“ç»Ÿè®¡ | æ¯æ¬¡éƒ½éå†æ‰€æœ‰é¢˜ç›® | æ‰¹é‡ç¼“å­˜ 10 ç§’ |
| é“¾æ¥å›¾ç”Ÿæˆ | æ•°ç»„ find O(n) | Map æŸ¥æ‰¾ O(1) |

### æµ‹è¯•ç»“æœ

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| æµ‹è¯•ç”¨ä¾‹ | 112 passed |
| TypeScript ç¼–è¯‘ | 0 errors |
| é€šè¿‡ç‡ | 100% |

---

## âœ… v1.77 - Snippets ä¿®å¤ä¸å¢å¼º (å·²å®Œæˆ)

> **å½“å‰è¿›åº¦**: 100% å®Œæˆ âœ…
> **è®¡åˆ’æ–‡æ¡£**: [docs/issues/SNIPPETS_FIX_PLAN.md](./issues/SNIPPETS_FIX_PLAN.md)

### é—®é¢˜æ¦‚è¿°

| é—®é¢˜ | å½±å“ | ä¸¥é‡æ€§ |
|------|------|--------|
| CodeMirror å†…å®¹åŒæ­¥å¤±æ•ˆ | æ’å…¥åå†…å®¹ä¸æ›´æ–° | ğŸ”´ é«˜ |
| å…‰æ ‡ä½ç½®å¤„ç†é”™è¯¯ | æ’å…¥åå…‰æ ‡è·³åˆ°é”™è¯¯ä½ç½® | ğŸ”´ é«˜ |
| ç”¨æˆ·è‡ªå®šä¹‰ Snippets ä¸æ˜¾ç¤º | åªèƒ½ä½¿ç”¨é»˜è®¤æ¨¡æ¿ | ğŸŸ  ä¸­ |
| åªèƒ½åœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ | æ— æ³•åœ¨å…‰æ ‡å¤„æ’å…¥ | ğŸŸ  ä¸­ |
| ç¼ºå°‘ WikiLink æ¨¡æ¿ | ç”¨æˆ·æ— æ³•å¿«é€Ÿæ’å…¥åŒå‘é“¾æ¥ | ğŸŸ¢ ä½ |

### ä¿®å¤å®Œæˆ

| é¡ºåº | ä»»åŠ¡ | ä½ç½® | å·¥æ—¶ | çŠ¶æ€ |
|------|------|------|------|------|
| 1 | CodeMirror å†…å®¹åŒæ­¥ | `CodeMirrorEditor.tsx` | 1h | âœ… å®Œæˆ |
| 2 | å…‰æ ‡ä½ç½®å¤„ç† | `App.tsx` | 2h | âœ… å®Œæˆ |
| 3 | æ˜¾ç¤ºç”¨æˆ·è‡ªå®šä¹‰ Snippets | `Sidebar.tsx` | 1h | âœ… å®Œæˆ |
| 4 | æ–°å¢ WikiLink æ¨¡æ¿ | `Sidebar.tsx` | 1h | âœ… å®Œæˆ |
| 5 | æ·»åŠ å›½é™…åŒ–æ–‡æœ¬ | `utils/translations.ts` | 30min | âœ… å®Œæˆ |

### æ–°å¢ WikiLink æ¨¡æ¿

| æ¨¡æ¿ ID | åç§° | å†…å®¹ |
|---------|------|------|
| `wikilink-plain` | File Link | `[[{filename}]]` |
| `wikilink-alias` | Link with Alias | `[[{filename}\|{alias}]]` |
| `wikilink-block` | Block Reference | `<<{filename}:{line}>>` |

**æµ‹è¯•ç»“æœ**: 112/112 é€šè¿‡ âœ…

---

## ğŸ”§ v1.76 - æ€§èƒ½ä¸å®‰å…¨ä¼˜åŒ–

> åŸºäº V1.75 ä»£ç å®¡æŸ¥å‘ç°çš„ä¼˜åŒ–æœºä¼š
> **å½“å‰è¿›åº¦**: 100% - Bug ä¿®å¤å®Œæˆ âœ…

### Bug ä¿®å¤

| é—®é¢˜ | ä½ç½® | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|
| Preview.tsx visit ç©ºæŒ‡é’ˆå¼‚å¸¸ | `Preview.tsx:67` | âœ… å·²ä¿®å¤ | æ·»åŠ  try-catch å’Œç©ºå€¼æ£€æŸ¥ |
| WikiLinkPreview æ‚¬æµ®é¢„è§ˆç¼ºå¤± | `Preview.tsx:220` | âœ… å·²ä¿®å¤ | æ·»åŠ  files å±æ€§å’Œé¢„è§ˆåŠŸèƒ½ |
| WikiLink files æ•°ç»„ä¼ é€’é”™è¯¯ | `Editor.tsx:53` | âœ… å·²ä¿®å¤ | ä¼ é€’å®Œæ•´ files æ•°ç»„ |
| WikiLink æ–‡ä»¶åŒ¹é…é€»è¾‘ç»Ÿä¸€ | `wikiLinkService.ts` | âœ… å·²å®Œæˆ | findFileByWikiLinkTarget å‡½æ•° |
| suggestTags API 404 é”™è¯¯ | `services/aiService.ts:3748` | âœ… å·²ä¿®å¤ | ä¿®æ­£ç«¯ç‚¹è·¯å¾„å’Œæ”¯æŒ MiniMaxi æ ¼å¼ |
| AI è¯­è¨€è®¾ç½®ä¸ç”Ÿæ•ˆ | `services/aiService.ts:4065` | âœ… å·²ä¿®å¤ | æ·»åŠ ä¸­è‹±æ–‡ prompts æ”¯æŒ |
| UI æ–‡æœ¬æœªåº”ç”¨ i18n ç¿»è¯‘ | å¤šä¸ªç»„ä»¶ | âœ… å·²ä¿®å¤ | æ·»åŠ æ ‡ç­¾å»ºè®®ã€é¢˜åº“ã€å¤ä¹ ç­‰é¡µé¢ç¿»è¯‘ |
| **CodeMirror æ— æ³•æ»šåŠ¨** | `CodeMirrorEditor.tsx:260` | âœ… å·²ä¿®å¤ | ç§»é™¤ `overflow-hidden`ï¼Œæ·»åŠ  `overflow-y-auto` |
| **CodeMirror æ— æ³•ç¼–è¾‘** | `CodeMirrorEditor.tsx:268` | âœ… å·²ä¿®å¤ | æ·»åŠ  `editable={true}` å’Œ `readOnly={false}` |
| **CodeMirror å…‰æ ‡ä¸è¿½è¸ª** | `CodeMirrorEditor.tsx:247` | âœ… å·²ä¿®å¤ | ä¼˜åŒ–åˆå§‹åŒ–é€»è¾‘ |
| **åˆ‡æ¢ç¼–è¾‘å™¨æ—¶å…‰æ ‡ä¸¢å¤±** | `App.tsx:791` | âœ… å·²ä¿®å¤ | æ·»åŠ  handleToggleCodeMirror åŒ…è£…å‡½æ•° |
| **åˆ‡æ¢åå…‰æ ‡è·³è‡³åˆå§‹ä½ç½®** | `App.tsx:791` | âœ… å·²ä¿®å¤ | ä»å¤šä¸ªæ¥æºè·å–å…‰æ ‡ä½ç½® |
| **åˆ‡æ¢ç¼–è¾‘å™¨æ—¶å…‰æ ‡ä¸æ¢å¤** | `Editor.tsx:83` | âœ… å·²ä¿®å¤ | æ£€æŸ¥å…‰æ ‡ä½ç½®æ˜¯å¦éœ€è¦æ›´æ–° |

### ä¼˜åŒ–ä»»åŠ¡åˆ—è¡¨

| é¡ºåº | ä»»åŠ¡ | ä½ç½® | å·¥æ—¶ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|------|------|------|------|--------|------|
| 1 | XSS é¢„é˜² | `WikiLink.tsx:106` | 1h | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ (escapeHtml) |
| 2 | çŸ¥è¯†å›¾è°±ç´¢å¼•æ€§èƒ½ | `wikiLinkService.ts:140` | 2-3h | ğŸŸ  ä¸­ | â³ å¾…å¼€å§‹ |
| 3 | æœç´¢æ€§èƒ½ä¼˜åŒ– | `searchService.ts:99` | 3-4h | ğŸŸ  ä¸­ | â³ å¾…å¼€å§‹ |
| 4 | é¢˜åº“ç»Ÿè®¡ç¼“å­˜ | `questionBankService.ts` | 1-2h | ğŸŸ¢ ä½ | â³ å¾…å¼€å§‹ |
| 5 | æ·»åŠ ç»„ä»¶æµ‹è¯• | `test/components/` | 4-6h | ğŸŸ¢ ä½ | â³ å¾…å¼€å§‹ |
| 6 | WikiLink åŒ¹é…é€»è¾‘ä¿®å¤ | `wikiLinkService.ts` | 30min | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |
| 7 | UI å›½é™…åŒ– (i18n) | å¤šä¸ªç»„ä»¶ | 2h | ğŸŸ  ä¸­ | âœ… å·²å®Œæˆ |
| 8 | CodeMirror ç¼–è¾‘å™¨ä¿®å¤ | `CodeMirrorEditor.tsx` | 1h | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |
| 9 | åˆ‡æ¢ç¼–è¾‘å™¨æ—¶ä¿å­˜å…‰æ ‡ | `App.tsx` | 30min | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |
| 10 | åˆ‡æ¢æ—¶æ¢å¤å…‰æ ‡ä½ç½® | `Editor.tsx` | 30min | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |

**æ€»è®¡å·¥æ—¶**: 13-20h
**è¯¦ç»†æŒ‡å—**: [V1.75_OPTIMIZATION_GUIDE.md](./V1.75_OPTIMIZATION_GUIDE.md)

---

## âœ… v1.75 - åŒå‘é“¾æ¥ä¸è¯•é¢˜åº“é›†æˆ (å·²å®Œæˆ)

> åŸºäº zhang_reader/New_Features/zhangnote é¡¹ç›®ç§»æ¤
> **å½“å‰è¿›åº¦**: 100% å®Œæˆ âœ…

> **å®ŒæˆçŠ¶æ€**: æ‰€æœ‰ Phase å·²å®Œæˆï¼Œ108 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼Œæ„å»ºéªŒè¯é€šè¿‡

---

### Phase 1: åŒå‘é“¾æ¥ç³»ç»Ÿ (8h) - 100% å®Œæˆ âœ…

| è¿›åº¦ | 17 ä»»åŠ¡ï¼Œå…¨éƒ¨å®Œæˆ |
|------|------------------|

#### 1.1 WikiLink ç±»å‹å®šä¹‰

**å‚è€ƒå®ç°**: `zhangnote/types.ts`, `zhangnote/services/knowledgeService.ts`

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 1.1.1 | å®šä¹‰ WikiLink, BlockReference, Backlink ç±»å‹ | âœ… å®Œæˆ | `src/types/wiki.ts` |
| [x] 1.1.2 | å®šä¹‰ KnowledgeIndex æ¥å£ | âœ… å®Œæˆ | `src/types/wiki.ts` |
| [x] 1.1.3 | å¯¼å‡ºç±»å‹å®šä¹‰ | âœ… å®Œæˆ | `src/types/index.ts` |

**æ ¸å¿ƒç±»å‹å®šä¹‰**:
```typescript
export interface WikiLink {
  target: string;
  alias?: string;
  position: { start: number; end: number };
}

export interface Backlink {
  sourceFileId: string;
  sourceFileName: string;
  linkType: 'wikilink' | 'blockref';
  context?: string;
}

export interface KnowledgeIndex {
  backlinks: Map<string, string[]>;  // targetName -> sourceFileIds
  tags: Map<string, string[]>;       // tagName -> fileIds
}
```

#### 1.2 é“¾æ¥æå–æœåŠ¡

**å‚è€ƒå®ç°**: `zhangnote/services/knowledgeService.ts:32-94`

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 1.2.1 | å®ç° extractWikiLinks() | âœ… å®Œæˆ | `src/services/wiki/wikiLinkService.ts` |
| [x] 1.2.2 | å®ç° extractBlockReferences() | âœ… å®Œæˆ | `src/services/wiki/wikiLinkService.ts` |
| [x] 1.2.3 | å®ç° extractTags() | âœ… å®Œæˆ | `src/services/wiki/wikiLinkService.ts` |
| [x] 1.2.4 | å®ç° buildKnowledgeIndex() | âœ… å®Œæˆ | `src/services/wiki/wikiLinkService.ts` |
| [x] 1.2.5 | å®ç° preprocessWikiLinks() | âœ… å®Œæˆ | `src/services/wiki/wikiLinkService.ts` |

**é“¾æ¥æ ¼å¼**:
- `[[PageName]]` - æ ‡å‡†é“¾æ¥
- `[[PageName|Alias]]` - å¸¦åˆ«åé“¾æ¥
- `[[Exam:QuizName]]` - è¯•é¢˜é“¾æ¥
- `[[Question:QuestionID]]` - é—®é¢˜é“¾æ¥
- `<<PageName:LineNumber>>` - å—çº§å¼•ç”¨

**æ ‡ç­¾æ ¼å¼**:
- `#tag` - å•çº§æ ‡ç­¾
- `#nested/tag` - åµŒå¥—æ ‡ç­¾
- `#ä¸­æ–‡æ ‡ç­¾` - ä¸­æ–‡æ”¯æŒ

#### 1.3 WikiLink ç»„ä»¶

**å‚è€ƒå®ç°**: `zhangnote/components/WikiLink.tsx`

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 1.3.1 | åˆ›å»º WikiLink ç»„ä»¶ | âœ… å®Œæˆ | `components/WikiLink.tsx` |
| [x] 1.3.2 | å®ç°æ‚¬åœé¢„è§ˆ (500ms delay) | âœ… å®Œæˆ | `components/WikiLink.tsx` |
| [x] 1.3.3 | æ”¯æŒä¸‰ç§é“¾æ¥ç±»å‹æ ·å¼ | âœ… å®Œæˆ | `components/WikiLink.tsx` |
| [x] 1.3.4 | é“¾æ¥ä¸å­˜åœ¨æ—¶æ˜¾ç¤ºç°è‰² | âœ… å®Œæˆ | `components/WikiLink.tsx` |

**ç»„ä»¶ç‰¹æ€§**:
```typescript
// é“¾æ¥ç±»å‹
const isExamLink = normalizedTarget.startsWith('exam:');
const isQuestionLink = normalizedTarget.startsWith('question:');

// é¢„è§ˆå»¶è¿Ÿ
timeoutRef.current = setTimeout(() => {
  setShowPreview(true);
}, 500);

// æ ¹æ®å­˜åœ¨æ€§æ˜¾ç¤ºæ ·å¼
targetFile
  ? 'text-cyan-600 hover:bg-cyan-100'
  : 'text-slate-400 cursor-not-allowed'
```

#### 1.4 åå‘é“¾æ¥é¢æ¿

**å‚è€ƒå®ç°**: zhangnote çš„é“¾æ¥ç´¢å¼•é€»è¾‘

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 1.4.1 | åˆ›å»º BacklinkPanel ç»„ä»¶ | âœ… å®Œæˆ | `components/BacklinkPanel.tsx` |
| [x] 1.4.2 | æ˜¾ç¤ºå¼•ç”¨å½“å‰é¡µé¢çš„æ‰€æœ‰é¡µé¢ | âœ… å®Œæˆ | `components/BacklinkPanel.tsx` |
| [x] 1.4.3 | æ”¯æŒç‚¹å‡»è·³è½¬åˆ°æºé¡µé¢ | âœ… å®Œæˆ | `components/BacklinkPanel.tsx` |
| [x] 1.4.4 | æ˜¾ç¤ºå¼•ç”¨ä¸Šä¸‹æ–‡ | âœ… å®Œæˆ | `components/BacklinkPanel.tsx` |

#### 1.5 Editor/Preview é›†æˆ

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ | ä¼˜å…ˆçº§ |
|------|------|------|------|--------|
| [x] 1.5.1 | Editor ä¸­æ¸²æŸ“ WikiLink (æ‚¬åœé¢„è§ˆ) | âœ… å®Œæˆ | `components/CodeMirrorEditor.tsx` | ğŸ”´ é«˜ |
| [x] 1.5.2 | Preview ä¸­æ¸²æŸ“ WikiLink | âœ… å®Œæˆ | `components/Preview.tsx` |
| [x] 1.5.3 | é“¾æ¥ç‚¹å‡»å¯¼èˆª | âœ… å®Œæˆ | `App.tsx` |

---

### Phase 2: è¯•é¢˜åº“å¼ºåŒ– (6h) - 100% å®Œæˆ âœ…

| è¿›åº¦ | 10 ä»»åŠ¡ï¼Œå…¨éƒ¨å®Œæˆ |
|------|------------------|

**å‚è€ƒå®ç°**: `zhangnote/services/aiService.ts:641-824`

#### 2.1 ç±»å‹å®šä¹‰æ‰©å±•

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 2.1.1 | æ·»åŠ  QuestionBank ç±»å‹ | âœ… å®Œæˆ | `types.ts` |
| [x] 2.1.2 | æ·»åŠ  QuestionBankStats ç±»å‹ | âœ… å®Œæˆ | `types.ts` |
| [x] 2.1.3 | æ‰©å±• QuizQuestion å­—æ®µ | âœ… å®Œæˆ | `types.ts` |

#### 2.2 é¢˜åº“æœåŠ¡

**å‚è€ƒå®ç°**: zhangnote çš„è¯•é¢˜ç”Ÿæˆé€»è¾‘

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 2.2.1 | åˆ›å»º questionBankService | âœ… å®Œæˆ | `src/services/quiz/questionBankService.ts` |
| [x] 2.2.2 | å®ç° createBank() | âœ… å®Œæˆ | `src/services/quiz/questionBankService.ts` |
| [x] 2.2.3 | å®ç° generateAndAddToBank() | âœ… å®Œæˆ | `src/services/quiz/questionBankService.ts` |
| [x] 2.2.4 | å®ç° getBankStats() | âœ… å®Œæˆ | `src/services/quiz/questionBankService.ts` |

#### 2.3 é¢˜åº“ç®¡ç† UI

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ | ä¼˜å…ˆçº§ |
|------|------|------|------|--------|
| [x] 2.3.1 | åˆ›å»º QuestionBankModal | âœ… å®Œæˆ | `components/QuestionBankModal.tsx` |
| [x] 2.3.2 | é¢˜åº“åˆ—è¡¨å±•ç¤º | âœ… å®Œæˆ | `components/QuestionBankModal.tsx` |
| [x] 2.3.3 | åˆ›å»º/ç¼–è¾‘/åˆ é™¤é¢˜åº“ | âœ… å®Œæˆ | `components/QuestionBankModal.tsx` |
| [x] 2.3.4 | ä»ç¬”è®°ç”Ÿæˆè¯•é¢˜ | âœ… å®Œæˆ | `components/QuestionBankModal.tsx` | ğŸŸ  ä¸­ |

---

### Phase 3: æ™ºèƒ½æ ‡ç­¾ç³»ç»Ÿ (4h) - 100% å®Œæˆ âœ…

| è¿›åº¦ | 5 ä»»åŠ¡ï¼Œå…¨éƒ¨å®Œæˆ |
|------|-----------------|

**å‚è€ƒå®ç°**: `zhangnote/services/knowledgeService.ts:46-94`

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 3.1 | å¢å¼º extractTags() æ”¯æŒä¸­æ–‡ | âœ… å®Œæˆ | `src/services/knowledgeService.ts` |
| [x] 3.2 | å®ç° suggestTags() AI å»ºè®® | âœ… å®Œæˆ | `TagSuggestionModal.tsx` |
| [x] 3.3 | å®ç° buildKnowledgeIndex() æ ‡ç­¾ç´¢å¼• | âœ… å®Œæˆ | TagsBrowser é›†æˆæœç´¢ |
| [x] 3.4 | æ·»åŠ æ ‡ç­¾æµè§ˆå™¨ç»„ä»¶ | âœ… å®Œæˆ | `components/TagsBrowser.tsx` |
| [x] 3.5 | æ ‡ç­¾ç®¡ç†ç³»ç»Ÿ | âœ… å®Œæˆ | æœç´¢/ç¼–è¾‘/åˆ é™¤/åˆå¹¶/æ‰¹é‡æ“ä½œ |

---

### Phase 4: çŸ¥è¯†å›¾è°±é›†æˆ (6h) - 100% å®Œæˆ âœ…

| è¿›åº¦ | 3 ä»»åŠ¡ï¼Œå…¨éƒ¨å®Œæˆ |
|------|-----------------|

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ | ä¼˜å…ˆçº§ |
|------|------|------|------|--------|
| [x] 4.1 | ä¾§è¾¹æ æ·»åŠ å·¥å…·æ  (æ–‡ä»¶/æ ‡ç­¾/é¢˜åº“) | âœ… å®Œæˆ | `components/Sidebar.tsx` |
| [x] 4.2 | çŸ¥è¯†å›¾è°± File Links æ¨¡å¼ | âœ… å®Œæˆ | `components/KnowledgeGraph.tsx` |
| ~~4.3~~ | ~~å›¾è°±å¯¼å‡ºåŠŸèƒ½ (PNG/SVG)~~ | ğŸ“‹ ä½ä¼˜å…ˆçº§ | å·²ç§»é™¤ | ğŸŸ¢ ä½ |

---

### Phase 5: æµ‹è¯•éªŒè¯ (4h) - 100% å®Œæˆ âœ…

| è¿›åº¦ | 4 ä»»åŠ¡ï¼Œå…¨éƒ¨å®Œæˆ |
|------|-----------------|

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ | ä¼˜å…ˆçº§ |
|------|------|------|------|--------|
| [x] 5.1 | é“¾æ¥æå–å•å…ƒæµ‹è¯• | âœ… å®Œæˆ (24 tests) | `test/wiki/wikiLink.test.ts` | ğŸ”´ é«˜ |
| [x] 5.2 | æ ‡ç­¾æå–å•å…ƒæµ‹è¯• | âœ… å®Œæˆ (15 tests) | `test/knowledge/tag.test.ts` | ğŸ”´ é«˜ |
| [x] 5.3 | SRS æœåŠ¡æµ‹è¯• | âœ… å®Œæˆ (21 tests) | `test/services/srsService.test.ts` | ğŸ”´ é«˜ |
| [x] 5.4 | æ„å»ºéªŒè¯ | âœ… å®Œæˆ | `npm run build` | ğŸŸ  ä¸­ |

---

### Phase 6: é—´éš”é‡å¤æœåŠ¡ (4h) - 100% å®Œæˆ âœ…

| è¿›åº¦ | 4 ä»»åŠ¡ï¼Œå…¨éƒ¨å®Œæˆ |
|------|-----------------|

> **è¯´æ˜**: TashaStone å·²æœ‰ `StudyPlan` å’Œ `ReviewTask` ç±»å‹å®šä¹‰ï¼Œéœ€å®ç°å®Œæ•´æœåŠ¡
> **å‚è€ƒå®ç°**: `zhangnote/services/srsService.ts`

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ | ä¼˜å…ˆçº§ |
|------|------|------|------|--------|
| [x] 6.1 | å®ç° srsService æ ¸å¿ƒå‡½æ•° | âœ… å®Œæˆ | `src/services/srs/srsService.ts` | ğŸ”´ é«˜ |
| [x] 6.2 | åˆ›å»º StudyPlanPanel ç»„ä»¶ | âœ… å®Œæˆ | `components/StudyPlanPanel.tsx` | ğŸ”´ é«˜ |
| [x] 6.3 | é”™é¢˜è‡ªåŠ¨åŠ å…¥å¤ä¹ è®¡åˆ’ | âœ… å®Œæˆ | `components/QuizPanel.tsx` | ğŸ”´ é«˜ |
| [x] 6.4 | ä¾§è¾¹æ é›†æˆå¤ä¹ å…¥å£ | âœ… å®Œæˆ | `components/Sidebar.tsx` | ğŸ”´ é«˜ |

**æ ¸å¿ƒå®ç°**:
```typescript
// è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿é—´éš”
const INTERVALS = [
  { label: '5 mins', ms: 5 * 60 * 1000 },
  { label: '30 mins', ms: 30 * 60 * 1000 },
  { label: '12 hours', ms: 12 * 60 * 60 * 1000 },
  { label: '1 day', ms: 24 * 60 * 60 * 1000 },
  { label: '2 days', ms: 2 * 24 * 60 * 60 * 1000 },
  { label: '4 days', ms: 4 * 24 * 60 * 60 * 1000 },
  { label: '7 days', ms: 7 * 24 * 60 * 60 * 1000 },
  { label: '15 days', ms: 15 * 24 * 60 * 60 * 1000 },
];

// æ ¸å¿ƒå‡½æ•°
createStudyPlanForFile(file: MarkdownFile): StudyPlan
createStudyPlanForMistake(mistake: MistakeRecord): StudyPlan
markTaskComplete(planId: string, taskId: string)
getTaskStatus(task: ReviewTask): 'pending' | 'completed' | 'overdue' | 'future'
```

**ç¼ºå¤±åŠŸèƒ½è¯´æ˜**:
- 6.3: QuizPanel ä¿å­˜é”™é¢˜æ—¶æœªè°ƒç”¨ srsService.createStudyPlanForMistake()
- 6.4: Sidebar ä¸­æ²¡æœ‰"å­¦ä¹ è®¡åˆ’"æˆ–"å¤ä¹ å…¥å£"èœå•é¡¹

---

### Phase 7: æ™ºèƒ½æœç´¢ç³»ç»Ÿ (6h) - 100% å®Œæˆ âœ…

| è¿›åº¦ | 5 ä»»åŠ¡ï¼Œå…¨éƒ¨å®Œæˆ |
|------|-----------------|

> **è¯´æ˜**: æ‰©å±•ç°æœ‰ RAG æœç´¢ï¼Œæ·»åŠ åŒæ¨¡å¼æœç´¢å’Œè¿‡æ»¤è¯­æ³•
> **å‚è€ƒå®ç°**: `zhangnote/components/SearchModal.tsx`, `zhangnote/services/searchService.ts`

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 7.1 | æœç´¢è¿‡æ»¤è¯­æ³•è§£æ | âœ… å®Œæˆ | `src/services/search/searchService.ts` |
| [x] 7.2 | åˆ›å»º SearchModal ç»„ä»¶ | âœ… å®Œæˆ | `components/SearchModal.tsx` |
| [x] 7.3 | åŒæ¨¡å¼æœç´¢ (å³æ—¶ + è¯­ä¹‰) | âœ… å®Œæˆ | `components/SearchModal.tsx` |
| [x] 7.4 | ç»“æœé¢„è§ˆé¢æ¿ | âœ… å®Œæˆ | `components/SearchModal.tsx` |
| [x] 7.5 | é”®ç›˜å¯¼èˆªæ”¯æŒ | âœ… å®Œæˆ | `components/SearchModal.tsx` |

**æœç´¢è¿‡æ»¤è¯­æ³•**:
- `tag:æ ‡ç­¾å` - æŒ‰æ ‡ç­¾è¿‡æ»¤
- `type:file` - æŒ‰ç±»å‹è¿‡æ»¤ (file/exam)
- `ext:md` - æŒ‰æ‰©å±•åè¿‡æ»¤
- `after:2025-01` - æŒ‰æ—¥æœŸè¿‡æ»¤
- `before:2025-12` - æŒ‰æ—¥æœŸè¿‡æ»¤

**ç»„ä»¶ç‰¹æ€§**:
- åŒæ¨¡å¼æœç´¢ï¼šå³æ—¶æœç´¢ (æœ¬åœ°) + è¯­ä¹‰æœç´¢ (AI RAG)
- åˆ†å±è§†å›¾ï¼šå·¦ä¾§ç»“æœåˆ—è¡¨ + å³ä¾§é¢„è§ˆé¢æ¿
- AI æ‘˜è¦ç”Ÿæˆ
- ç›¸å…³æ–‡ä»¶å‘ç°
- é”®ç›˜å¯¼èˆª (â†‘â†“ Enter Esc)

---

### Phase 8: æ™ºèƒ½æ•´ç† (4h) - 100% å®Œæˆ âœ…

| è¿›åº¦ | 5 ä»»åŠ¡ï¼Œå…¨éƒ¨å®Œæˆ |
|------|-----------------|

> **å‚è€ƒå®ç°**: `zhangnote/components/SmartOrganizeModal.tsx`

| ä»»åŠ¡ | æè¿° | çŠ¶æ€ | æ–‡ä»¶ |
|------|------|------|------|
| [x] 8.1 | åˆ›å»º SmartOrganizeModal | âœ… å®Œæˆ | `components/SmartOrganizeModal.tsx` |
| [x] 8.2 | AI é‡è¦æ€§è¯„åˆ† (1-10) | âœ… å®Œæˆ | `components/SmartOrganizeModal.tsx` |
| [x] 8.3 | AI åˆ†ç±»å»ºè®® | âœ… å®Œæˆ | `components/SmartOrganizeModal.tsx` |
| [x] 8.4 | å³é”®èœå•é›†æˆ | âœ… å®Œæˆ | `components/Sidebar.tsx` |
| [x] 8.5 | ä¸»é¢˜å»ºè®®åŠŸèƒ½ | âœ… å®Œæˆ | `components/SmartOrganizeModal.tsx` |

**ç»„ä»¶ç‰¹æ€§**:
- å››ä¸ªæ ‡ç­¾é¡µï¼šåˆ†æã€æ ‡ç­¾ã€åˆ†ç±»ã€é“¾æ¥
- é‡è¦æ€§è¯„åˆ† (1-10) å¸¦å¯è§†åŒ–è¿›åº¦æ¡
- å…³é”®æ¦‚å¿µæå–
- AI å»ºè®®æ ‡ç­¾ã€æ–‡ä»¶å¤¹è·¯å¾„ã€ä¸»é¢˜
- ä¸€é”®åº”ç”¨å»ºè®®
- å…³è”æ–‡ä»¶å‘ç°

---

## ğŸ“Š v1.75 ä»»åŠ¡ç»Ÿè®¡ï¼ˆè¯šå®ç‰ˆï¼‰

| Phase | ä»»åŠ¡æ•° | é¢„è®¡æ—¶é—´ | è¿›åº¦ | çŠ¶æ€ |
|-------|--------|----------|------|------|
| Phase 1: åŒå‘é“¾æ¥ç³»ç»Ÿ | 17 | 8h | 100% | âœ… å®Œæˆ |
| Phase 2: è¯•é¢˜åº“å¼ºåŒ– | 10 | 6h | 100% | âœ… å®Œæˆ |
| Phase 3: æ™ºèƒ½æ ‡ç­¾ç³»ç»Ÿ | 5 | 4h | 100% | âœ… å®Œæˆ |
| Phase 4: çŸ¥è¯†å›¾è°±é›†æˆ | 3 | 4h | 100% | âœ… å®Œæˆ |
| Phase 5: æµ‹è¯•éªŒè¯ | 4 | 4h | **100%** | âœ… å®Œæˆ |
| Phase 6: é—´éš”é‡å¤æœåŠ¡ | 4 | 4h | **100%** | âœ… å®Œæˆ |
| Phase 7: æ™ºèƒ½æœç´¢ç³»ç»Ÿ | 5 | 6h | 100% | âœ… å®Œæˆ |
| Phase 8: æ™ºèƒ½æ•´ç† | 5 | 4h | 100% | âœ… å®Œæˆ |
| **æ€»è®¡** | **53** | **40h** | **100%** | |

### è¯šå®å®Œæˆç»Ÿè®¡

| åˆ†ç±» | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| å·²å®Œæˆä»»åŠ¡ | **53** | æ‰€æœ‰ä»»åŠ¡å…¨éƒ¨å®Œæˆ |
| è¿›è¡Œä¸­ä»»åŠ¡ | **0** | æ— è¿›è¡Œä¸­ä»»åŠ¡ |
| å¾…å¼€å§‹ä»»åŠ¡ | **0** | æ— å¾…å¼€å§‹ä»»åŠ¡ |
| **çœŸå®å®Œæˆç‡** | **100%** | 108/108 tests passing |

### ç¼ºå¤±ä»»åŠ¡æ¸…å•

| Phase | ä»»åŠ¡ | çŠ¶æ€ | ä¼°è®¡å·¥æ—¶ | è¯´æ˜ |
|-------|------|------|---------|------|
| 5.3 | WikiLink ç»„ä»¶æµ‹è¯• | âš ï¸ è·³è¿‡ | 1-2h | React Testing Library æœªå®‰è£… |
| ~ | SRS æœåŠ¡å•å…ƒæµ‹è¯• | ğŸ“‹ å¾…æ·»åŠ  | 2h | åˆ›å»º test/services/srsService.test.ts |

---

## ğŸ”´ ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¸…å•ï¼ˆv1.75 å®Œæˆï¼‰

| é¡ºåº | ä»»åŠ¡ | å·¥æ—¶ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|------|------|------|--------|------|
| 1 | åˆ›å»ºæµ‹è¯•ç›®å½•ç»“æ„ | 30min | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |
| 2 | ç¼–å†™é“¾æ¥æå–æµ‹è¯• | 1-2h | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |
| 3 | ç¼–å†™æ ‡ç­¾æå–æµ‹è¯• | 1h | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |
| 4 | ç¼–å†™ SRS æœåŠ¡æµ‹è¯• | 2h | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |
| 5 | è¿è¡Œæ„å»ºéªŒè¯ | 30min | ğŸŸ  ä¸­ | âœ… å·²å®Œæˆ |
| 6 | é›†æˆ QuizPanel ä¸ srsService | 1h | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |
| 7 | æ·»åŠ  Sidebar å¤ä¹ å…¥å£ | 1h | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ |

**v1.75 å®ŒæˆçŠ¶æ€**: å…¨éƒ¨ä»»åŠ¡å·²å®Œæˆ âœ…

---

## âœ… å·²å®Œæˆä»»åŠ¡

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | å·¥ä½œé‡ | çŠ¶æ€ |
|--------|------|--------|------|
| é«˜ | é˜¶æ®µä¸€ï¼šæ ¸å¿ƒä¸Šä¸‹æ–‡å·¥ç¨‹ | 5-7 å¤© | âœ… å®Œæˆ |
| é«˜ | é˜¶æ®µäºŒï¼šä¼šè¯å­˜å‚¨ä¸æ£€æŸ¥ç‚¹ | 3-4 å¤© | âœ… å®Œæˆ |
| é«˜ | é˜¶æ®µä¸‰ï¼šä¸‰å±‚è®°å¿†ç³»ç»Ÿ | 4-5 å¤© | âœ… å®Œæˆ |
| é«˜ | é˜¶æ®µå››ï¼šUI é›†æˆ | 3-4 å¤© | âœ… å®Œæˆ |
| é«˜ | é˜¶æ®µäº”ï¼šæ€§èƒ½ä¼˜åŒ– | 3-4 å¤© | âœ… å®Œæˆ |
| é«˜ | v1.7.2 è®°å¿†ç³»ç»Ÿä¿®å¤ | 5-7 å¤© | âœ… å®Œæˆ |
| é«˜ | v1.7.3 æ€§èƒ½ä¸ä»£ç è´¨é‡ä¼˜åŒ– | 3 å¤© | âœ… å®Œæˆ |
| é«˜ | v1.7.4 ä¼˜åŒ–å®¡æŸ¥ä¿®å¤ | 1 å¤© | âœ… å®Œæˆ |
| é«˜ | **æ·±åº¦ç ”ç©¶è§„åˆ’** | 1 å¤© | âœ… å®Œæˆ |
| é«˜ | **v1.75 Phase 1 åŒå‘é“¾æ¥ç³»ç»Ÿ** | 8h | âœ… 100% |
| é«˜ | **v1.75 Phase 2 è¯•é¢˜åº“å¼ºåŒ–** | 6h | âœ… 100% |
| é«˜ | **v1.75 Phase 3 æ™ºèƒ½æ ‡ç­¾ç³»ç»Ÿ** | 4h | âœ… 100% |
| é«˜ | **v1.75 Phase 4 çŸ¥è¯†å›¾è°±é›†æˆ** | 4h | âœ… 100% |
| é«˜ | **v1.75 Phase 7 æ™ºèƒ½æœç´¢ç³»ç»Ÿ** | 6h | âœ… 100% |
| é«˜ | **v1.75 Phase 8 æ™ºèƒ½æ•´ç†** | 4h | âœ… 100% |

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

- é¡¹ç›®æ¦‚è§ˆï¼š[PROJECT.md](./PROJECT.md)
- é¡¹ç›®çŠ¶æ€ï¼š[PROJECT_STATUS.md](./PROJECT_STATUS.md)
- ä¼˜åŒ–æŒ‡å—ï¼š[V1.75_OPTIMIZATION_GUIDE.md](./V1.75_OPTIMIZATION_GUIDE.md)
- v1.75 éªŒè¯æŠ¥å‘Šï¼š[V1.75_VERIFICATION.md](./V1.75_VERIFICATION.md)
