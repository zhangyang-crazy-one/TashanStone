import { useMemo } from 'react';

import type { AppOverlaysProps } from '@/components/App/AppOverlays';

export const useAppOverlaysState = ({
  isSettingsOpen,
  onCloseSettings,
  aiConfig,
  onSaveSettings,
  themes,
  activeThemeId,
  onSelectTheme,
  onImportTheme,
  onDeleteTheme,
  shortcuts,
  onUpdateShortcut,
  onResetShortcuts,
  showToast,
  onSettingsDataImported,
  showConfirmDialog,
  confirmDialog,
  onCancelConfirm,
  isVoiceTranscriptionOpen,
  onCloseVoiceTranscription,
  files,
  onTranscriptionSaveToFile,
  onTranscriptionCreateNewFile,
  isQuestionBankOpen,
  onCloseQuestionBank,
  questionBanks,
  onCreateBank,
  onDeleteBank,
  onUpdateBank,
  onAddQuestionsToBank,
  onGenerateQuestions,
  onRemoveQuestion,
  onCreateQuizFromBank,
  onCreateQuizFromSelection,
  isTagSuggestionOpen,
  onCloseTagSuggestion,
  tagSuggestionContent,
  tagSuggestionExistingTags,
  onApplyTags,
  isSmartOrganizeOpen,
  onCloseSmartOrganize,
  smartOrganizeFile,
  fallbackFile,
  onUpdateFile,
  allFiles,
  isSearchOpen,
  onCloseSearch,
  onSelectFile,
  isStudyPlanOpen,
  onCloseStudyPlan,
  studyPlans,
  onCompleteTask,
  onCreatePlan,
  onDeletePlan,
  isLinkInsertOpen,
  linkInsertMode,
  activeFileId,
  onInsertLink,
  onCloseLinkInsert,
  selectedText,
  showCompactMemoryPrompt,
  compactMemoryCandidate,
  onCompactMemorySave,
  onCompactMemorySkip,
  onCloseCompactMemory,
  language
}: AppOverlaysProps): AppOverlaysProps => {
  return useMemo(() => ({
    isSettingsOpen,
    onCloseSettings,
    aiConfig,
    onSaveSettings,
    themes,
    activeThemeId,
    onSelectTheme,
    onImportTheme,
    onDeleteTheme,
    shortcuts,
    onUpdateShortcut,
    onResetShortcuts,
    showToast,
    onSettingsDataImported,
    showConfirmDialog,
    confirmDialog,
    onCancelConfirm,
    isVoiceTranscriptionOpen,
    onCloseVoiceTranscription,
    files,
    onTranscriptionSaveToFile,
    onTranscriptionCreateNewFile,
    isQuestionBankOpen,
    onCloseQuestionBank,
    questionBanks,
    onCreateBank,
    onDeleteBank,
    onUpdateBank,
    onAddQuestionsToBank,
    onGenerateQuestions,
    onRemoveQuestion,
    onCreateQuizFromBank,
    onCreateQuizFromSelection,
    isTagSuggestionOpen,
    onCloseTagSuggestion,
    tagSuggestionContent,
    tagSuggestionExistingTags,
    onApplyTags,
    isSmartOrganizeOpen,
    onCloseSmartOrganize,
    smartOrganizeFile,
    fallbackFile,
    onUpdateFile,
    allFiles,
    isSearchOpen,
    onCloseSearch,
    onSelectFile,
    isStudyPlanOpen,
    onCloseStudyPlan,
    studyPlans,
    onCompleteTask,
    onCreatePlan,
    onDeletePlan,
    isLinkInsertOpen,
    linkInsertMode,
    activeFileId,
    onInsertLink,
    onCloseLinkInsert,
    selectedText,
    showCompactMemoryPrompt,
    compactMemoryCandidate,
    onCompactMemorySave,
    onCompactMemorySkip,
    onCloseCompactMemory,
    language
  }), [
    isSettingsOpen,
    onCloseSettings,
    aiConfig,
    onSaveSettings,
    themes,
    activeThemeId,
    onSelectTheme,
    onImportTheme,
    onDeleteTheme,
    shortcuts,
    onUpdateShortcut,
    onResetShortcuts,
    showToast,
    onSettingsDataImported,
    showConfirmDialog,
    confirmDialog,
    onCancelConfirm,
    isVoiceTranscriptionOpen,
    onCloseVoiceTranscription,
    files,
    onTranscriptionSaveToFile,
    onTranscriptionCreateNewFile,
    isQuestionBankOpen,
    onCloseQuestionBank,
    questionBanks,
    onCreateBank,
    onDeleteBank,
    onUpdateBank,
    onAddQuestionsToBank,
    onGenerateQuestions,
    onRemoveQuestion,
    onCreateQuizFromBank,
    onCreateQuizFromSelection,
    isTagSuggestionOpen,
    onCloseTagSuggestion,
    tagSuggestionContent,
    tagSuggestionExistingTags,
    onApplyTags,
    isSmartOrganizeOpen,
    onCloseSmartOrganize,
    smartOrganizeFile,
    fallbackFile,
    onUpdateFile,
    allFiles,
    isSearchOpen,
    onCloseSearch,
    onSelectFile,
    isStudyPlanOpen,
    onCloseStudyPlan,
    studyPlans,
    onCompleteTask,
    onCreatePlan,
    onDeletePlan,
    isLinkInsertOpen,
    linkInsertMode,
    activeFileId,
    onInsertLink,
    onCloseLinkInsert,
    selectedText,
    showCompactMemoryPrompt,
    compactMemoryCandidate,
    onCompactMemorySave,
    onCompactMemorySkip,
    onCloseCompactMemory,
    language
  ]);
};
